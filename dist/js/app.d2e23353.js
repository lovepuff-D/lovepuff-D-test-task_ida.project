(function(){"use strict";var t={7565:function(t,e,i){var l=i(9242),d=i(3396);function s(t,e,i,l,s,o){const r=(0,d.up)("router-view");return(0,d.wg)(),(0,d.j4)(r)}var o={},r=i(89);const n=(0,r.Z)(o,[["render",s]]);var c=n,a=i(2483);const u=t=>((0,d.dD)("data-v-38142e98"),t=t(),(0,d.Cn)(),t),f={class:"container"},_={class:"body"},p={class:"col body__left"},h=u((()=>(0,d._)("div",{class:"addProduct__title title"},"Добавление товара",-1))),m={class:"add-product__wrapper"},v={class:"col body__right"},g={class:"products-list__wrapper"};function P(t,e,i,l,s,o){const r=(0,d.up)("AddProduct"),n=(0,d.up)("SortField"),c=(0,d.up)("ProductsList");return(0,d.wg)(),(0,d.iD)("div",f,[(0,d._)("div",_,[(0,d._)("div",p,[h,(0,d._)("div",m,[(0,d.Wm)(r)])]),(0,d._)("div",v,[(0,d.Wm)(n),(0,d._)("div",g,[(0,d.Wm)(c)])])])])}var w=i(7139);const O=t=>((0,d.dD)("data-v-5bb74fbf"),t=t(),(0,d.Cn)(),t),b={class:"addProduct"},y={class:"addProduct__fields"},D={class:"field"},F=O((()=>(0,d._)("div",{class:"field__header required"},"Наименование товара",-1))),S={class:"field__body"},k={class:"field"},T=O((()=>(0,d._)("div",{class:"field__header"},"Описание товара",-1))),I={class:"field__body"},C={class:"field"},U=O((()=>(0,d._)("div",{class:"field__header required"},"Ссылка на изображение товара",-1))),E={class:"field__body"},V={class:"field"},j=O((()=>(0,d._)("div",{class:"field__header required"},"Цена товара",-1))),N={class:"field__body"},A={class:"addProduct__action action"};function R(t,e,i,s,o,r){const n=(0,d.up)("FieldIsNotFilled");return(0,d.wg)(),(0,d.iD)("div",b,[(0,d._)("div",y,[(0,d._)("div",D,[F,(0,d._)("div",S,[(0,d.wy)((0,d._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filledField.name=t),type:"text",placeholder:"Введите наименование товара"},null,512),[[l.nr,o.filledField.name]]),(0,d.Wm)(n,{condition:o.filledField.name.length},null,8,["condition"])])]),(0,d._)("div",k,[T,(0,d._)("div",I,[(0,d.wy)((0,d._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.filledField.description=t),placeholder:"Введите описание товара"},null,512),[[l.nr,o.filledField.description]])])]),(0,d._)("div",C,[U,(0,d._)("div",E,[(0,d.wy)((0,d._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.filledField.url=t),type:"text",placeholder:"Введите ссылку: http(s)://"},null,512),[[l.nr,o.filledField.url]]),(0,d.Wm)(n,{condition:o.isValidUrl},null,8,["condition"])])]),(0,d._)("div",V,[j,(0,d._)("div",N,[(0,d.wy)((0,d._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.filledField.cost=t),type:"text",placeholder:"Введите цену"},null,512),[[l.nr,o.filledField.cost]]),(0,d.Wm)(n,{condition:o.filledField.cost.length},null,8,["condition"])])])]),(0,d._)("div",A,[(0,d._)("button",{onClick:e[4]||(e[4]=t=>r.addProduct()),onAnimationend:e[5]||(e[5]=t=>o.animated=!1),class:(0,w.C_)(["action__button",{active__btn:o.isButtonActive,disabled__btn:!o.isButtonActive,"succeed-adding":o.animated}])}," Добавить товар ",34)])])}const q={key:0,class:"field-is-not-filled"};function L(t,e,i,s,o,r){return(0,d.wg)(),(0,d.j4)(l.uT,{name:"fade"},{default:(0,d.w5)((()=>[i.condition?(0,d.kq)("",!0):((0,d.wg)(),(0,d.iD)("div",q," Поле является обязательным "))])),_:1})}var x={name:"AddProduct_Field-is-not-filled",components:{},props:{condition:{required:!0}},data(){return{}},computed:{}};const W=(0,r.Z)(x,[["render",L],["__scopeId","data-v-2d5d3943"]]);var Z=W,$={name:"AddProduct",components:{FieldIsNotFilled:Z},data(){return{filledField:{id:"",name:"",description:"",url:"",cost:"",costNumber:""},isButtonActive:!1,isValidUrl:!1,animated:!1}},methods:{addProduct(t){this.isButtonActive&&(this.animated=!0,this.filledField.id=this.createId(),this.$store.commit("ADD_PRODUCT",JSON.stringify(this.filledField)))},createId(){let t=(new Date).getDay(),e=(new Date).getHours(),i=(new Date).getMinutes(),l=(new Date).getSeconds(),d=(new Date).getMilliseconds();return String(t)+String(e)+String(i)+String(l)+String(d)},checkValidFields(){this.isButtonActive=this.filledField.name.length>0&&this.isValidUrl&&this.filledField.cost.length>0},checkValidUrl(){this.isValidUrl=/^http:\/\/|^https:\/\//g.test(this.filledField.url)},checkValidCost(){this.filledField.cost=this.filledField.cost.replace(/[\D]/g,""),this.filledField.costNumber=this.filledField.cost;let t=this.filledField.cost.replace(/ /g,"");function e(t,e,i=null,l=null){let d=t.split("");return d.splice(e,0," "),d.splice(i,0," "),d.splice(l,0," "),console.log(d,"indside"),d.join("")}t.length<4||t.length>8||(4===t.length&&(console.log(t,"тысячи"),this.filledField.cost=e(t,1)),5===t.length&&(this.filledField.cost=e(t,2)),6===t.length&&(this.filledField.cost=e(t,3)),7===t.length&&(this.filledField.cost=e(t,1,5)),8===t.length&&(this.filledField.cost=e(t,2,6)))}},computed:{},watch:{filledField:{handler(t){this.checkValidFields()},deep:!0},"filledField.url":{handler(t){this.checkValidUrl(),this.checkValidFields()}},"filledField.cost":{handler(t){this.checkValidCost()}}},mounted(){}};const B=(0,r.Z)($,[["render",R],["__scopeId","data-v-5bb74fbf"]]);var H=B;const M=t=>((0,d.dD)("data-v-4759db79"),t=t(),(0,d.Cn)(),t),J={class:"product-list"},z={key:0,class:"product-list__empty"},K={key:0,class:"lds-ring"},Y=M((()=>(0,d._)("div",null,null,-1))),G=M((()=>(0,d._)("div",null,null,-1))),Q=M((()=>(0,d._)("div",null,null,-1))),X=M((()=>(0,d._)("div",null,null,-1))),tt=[Y,G,Q,X];function et(t,e,i,s,o,r){const n=(0,d.up)("ProductsList_Item");return(0,d.wg)(),(0,d.iD)("div",J,[(0,d.Wm)(l.W3,{name:"list"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(t.listOfProducts,(t=>((0,d.wg)(),(0,d.j4)(n,{key:t.id,item:t},null,8,["item"])))),128)),o.isShowEmptyTitle?((0,d.wg)(),(0,d.iD)("div",z," Добавьте свой первый товар ")):(0,d.kq)("",!0)])),_:1}),o.isShowPreloader?((0,d.wg)(),(0,d.iD)("div",K,tt)):(0,d.kq)("",!0)])}var it=i.p+"img/plug-img.a47ae7b0.png";const lt={class:"item"},dt={class:"item__header"},st=["src"],ot={class:"item__body body"},rt={class:"body__name"},nt={class:"body__description"},ct={class:"body__cost"};function at(t,e,i,l,s,o){return(0,d.wg)(),(0,d.iD)("div",lt,[(0,d._)("div",{onClick:e[0]||(e[0]=t=>o.deleteItem(i.item.id)),class:"delete-icon"}),(0,d._)("div",dt,[s.isStandardPicture?(0,d.kq)("",!0):((0,d.wg)(),(0,d.iD)("img",{key:0,onError:e[1]||(e[1]=t=>o.errorHandlerOfImg(t)),src:i.item.url,alt:"Picture of product"},null,40,st)),s.isStandardPicture?((0,d.wg)(),(0,d.iD)("img",{key:1,onError:e[2]||(e[2]=t=>o.errorHandlerOfImg(t)),src:it,alt:"Picture of product"},null,32)):(0,d.kq)("",!0)]),(0,d._)("div",ot,[(0,d._)("div",rt,(0,w.zw)(i.item.name),1),(0,d._)("div",nt,(0,w.zw)(i.item.description),1),(0,d._)("div",ct,(0,w.zw)(i.item.cost)+" руб. ",1)])])}var ut={name:"ProductsList_Item",components:{},data(){return{isStandardPicture:!1}},props:{item:{type:Object,required:!0}},methods:{deleteItem(t){this.$store.commit("DELETE_PRODUCT",t)},errorHandlerOfImg(t){this.isStandardPicture=!0}},computed:{}};const ft=(0,r.Z)(ut,[["render",at],["__scopeId","data-v-c8dcbeec"]]);var _t=ft,pt=i(65),ht={name:"ProductsList",components:{ProductsList_Item:_t},data(){return{isShowEmptyTitle:!1,isShowPreloader:!0}},computed:{...(0,pt.rn)(["listOfProducts"])},mounted(){setTimeout((()=>{localStorage.getItem("listOfProduct")&&this.$store.commit("SET_PRODUCT",localStorage.getItem("listOfProduct"))}),1e3),localStorage.getItem("listOfProduct")||(this.isShowPreloader=!1,0===this.listOfProducts.length&&(this.isShowEmptyTitle=!0)),window.addEventListener("beforeunload",(()=>{localStorage.setItem("listOfProduct",JSON.stringify(this.listOfProducts))}))},watch:{"$store.state.listOfProducts":{handler(t){t.length>0&&(this.isShowPreloader=!1,this.isShowEmptyTitle=!1),0===t.length&&(this.isShowPreloader=!1,this.isShowEmptyTitle=!0)},deep:!0}}};const mt=(0,r.Z)(ht,[["render",et],["__scopeId","data-v-4759db79"]]);var vt=mt;const gt=t=>((0,d.dD)("data-v-1e83657a"),t=t(),(0,d.Cn)(),t),Pt=gt((()=>(0,d._)("option",{value:"Default"},"По умолчанию",-1))),wt=gt((()=>(0,d._)("option",{value:"Name"},"По наименованию",-1))),Ot=gt((()=>(0,d._)("option",{value:"Increase"},"По цене (Увеличение)",-1))),bt=gt((()=>(0,d._)("option",{value:"Decrease"},"По цене (Уменьшение)",-1))),yt=[Pt,wt,Ot,bt];function Dt(t,e,i,s,o,r){return(0,d.wy)(((0,d.wg)(),(0,d.iD)("select",{class:"sort-field","onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t)},yt,512)),[[l.bM,o.value]])}var Ft={name:"ProductsList_SortField",components:{},data(){return{value:"Default"}},computed:{},watch:{value:{handler(t,e){this.$store.commit("SORT_PRODUCT",this.value)}},"$store.state.listOfProducts":{handler(t,e){console.log("qe"),this.$store.commit("SORT_PRODUCT",this.value)},deep:!0}}};const St=(0,r.Z)(Ft,[["render",Dt],["__scopeId","data-v-1e83657a"]]);var kt=St,Tt={components:{AddProduct:H,ProductsList:vt,SortField:kt},data(){return{}},computed:{},mounted(){}};const It=(0,r.Z)(Tt,[["render",P],["__scopeId","data-v-38142e98"]]);var Ct=It;const Ut=[{path:"/",name:"home",component:Ct}],Et=(0,a.p7)({history:(0,a.PO)("/lovepuff-D-test-task_ida.project/"),routes:Ut});var Vt=Et,jt=(0,pt.MT)({state:{listOfProducts:[]},getters:{},mutations:{SET_PRODUCT(t,e){t.listOfProducts=JSON.parse(e)},ADD_PRODUCT(t,e){t.listOfProducts.push(JSON.parse(e))},DELETE_PRODUCT(t,e){t.listOfProducts=t.listOfProducts.filter((t=>t.id!==e))},SORT_PRODUCT(t,e){"Default"===e&&(t.listOfProducts=t.listOfProducts.sort(((t,e)=>t.id-e.id))),"Name"===e&&(t.listOfProducts=t.listOfProducts.sort(((t,e)=>{const i=t.name.toUpperCase(),l=e.name.toUpperCase();if(i<l)return-1}))),"Increase"===e&&(t.listOfProducts=t.listOfProducts.sort(((t,e)=>t.costNumber-e.costNumber))),"Decrease"===e&&(t.listOfProducts=t.listOfProducts.sort(((t,e)=>e.costNumber-t.costNumber)))}},actions:{},modules:{}});const Nt=(0,l.ri)(c);Nt.use(jt).use(Vt).mount("#app")}},e={};function i(l){var d=e[l];if(void 0!==d)return d.exports;var s=e[l]={exports:{}};return t[l](s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,l,d,s){if(!l){var o=1/0;for(a=0;a<t.length;a++){l=t[a][0],d=t[a][1],s=t[a][2];for(var r=!0,n=0;n<l.length;n++)(!1&s||o>=s)&&Object.keys(i.O).every((function(t){return i.O[t](l[n])}))?l.splice(n--,1):(r=!1,s<o&&(o=s));if(r){t.splice(a--,1);var c=d();void 0!==c&&(e=c)}}return e}s=s||0;for(var a=t.length;a>0&&t[a-1][2]>s;a--)t[a]=t[a-1];t[a]=[l,d,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var l in e)i.o(e,l)&&!i.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p="/lovepuff-D-test-task_ida.project/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,l){var d,s,o=l[0],r=l[1],n=l[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(d in r)i.o(r,d)&&(i.m[d]=r[d]);if(n)var a=n(i)}for(e&&e(l);c<o.length;c++)s=o[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(a)},l=self["webpackChunkidaproject_market"]=self["webpackChunkidaproject_market"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=i.O(void 0,[998],(function(){return i(7565)}));l=i.O(l)})();
//# sourceMappingURL=app.d2e23353.js.map